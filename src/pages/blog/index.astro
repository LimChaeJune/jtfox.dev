---
import Layout from "@/app/layouts/Layout.astro";
import BlogPage from "@/components/blog/BlogPage";
import { getAllBlogPosts } from "@/app/api/blog";

const posts = await getAllBlogPosts();
const categories = [
  ...new Set(posts.flatMap((post) => post.data.category)),
].sort();
---

<Layout>
  <BlogPage posts={posts} categories={categories} client:load />
</Layout>
